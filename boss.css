/* =========================
   boss.css（演出専用）
   ※ 地図座標・night-only は含めない
========================= */

/* 夜のボス感：ふわっと脈動（transform競合回避） */
html.is-night .boss-gate{
  animation: bossPulse 1.6s ease-in-out infinite;
}
@keyframes bossPulse{
  0%{ transform: translateX(-50%) scale(1);       opacity: 0.95; }
  50%{ transform: translateX(-50%) scale(1.04);   opacity: 1; }
  100%{ transform: translateX(-50%) scale(1);     opacity: 0.95; }
}

/* ===== ボス会話（戦う前） ===== */
.boss-talk{
  position: fixed;
  inset: 0;
  display: none;
  z-index: 9998;
  background: rgba(0,0,0,0.78);
}
.boss-talk-panel{
  position: absolute;
  left: 50%;
  top: 50%;
  transform: translate(-50%, -50%);
  width: min(420px, 90vw);
  padding: 14px 12px;
  border: 3px solid #fff;
  background: #000;
  color: #fff;
  font-family: system-ui, sans-serif;
}
.boss-talk-title{ font-size: 14px; margin-bottom: 8px; }
.boss-talk-text{
  font-size: 14px;
  line-height: 1.6;
  margin-bottom: 12px;
  min-height: 3.2em;
  opacity: 0.95;
}
.boss-talk-buttons{
  display: flex;
  gap: 8px;
  justify-content: center;
}
.boss-talk-buttons button{
  padding: 8px 10px;
  border: 2px solid #fff;
  background: #000;
  color: #fff;
  cursor: pointer;
}
.boss-talk-buttons button:active{ transform: translateY(1px); }

/* ===== バトル結果 ===== */
.boss-overlay{
  position: fixed;
  inset: 0;
  display: none;
  z-index: 9999;
  background: rgba(0,0,0,0.78);
}
.boss-panel{
  position: absolute;
  left: 50%;
  top: 50%;
  transform: translate(-50%, -50%);
  width: min(420px, 90vw);
  padding: 14px 12px;
  border: 3px solid #fff;
  background: #000;
  color: #fff;
  text-align: center;
  font-family: system-ui, sans-serif;
}
.boss-head{ font-size: 13px; opacity: 0.9; margin-bottom: 8px; }
.boss-name{ font-size: 16px; margin-bottom: 10px; }

.boss-cardframe{
  width: min(300px, 78vw);
  margin: 0 auto 10px;
  border: 2px solid #fff;
  padding: 8px;
  background: #111;
}
.boss-cardimg{
  width: 100%;
  display: block;
  image-rendering: pixelated;
}
.boss-result{ font-size: 28px; letter-spacing: 2px; margin-top: 6px; }
.boss-score{ margin-top: 4px; font-size: 22px; }
.boss-comment{
  margin-top: 8px;
  font-size: 14px;
  line-height: 1.45;
  min-height: 2.8em;
  opacity: 0.95;
}
.boss-footer{ margin-top: 10px; font-size: 12px; opacity: 0.75; }

.boss-buttons{
  display: flex;
  gap: 8px;
  justify-content: center;
  margin-top: 12px;
}
.boss-buttons button{
  padding: 8px 10px;
  border: 2px solid #fff;
  background: #000;
  color: #fff;
  cursor: pointer;
}

/* 激レア：虹枠 */
.boss-panel.rainbow{
  border-color: transparent;
  background:
    linear-gradient(#000, #000) padding-box,
    linear-gradient(90deg, #ff3, #f3f, #3ff, #3f3, #ff3) border-box;
  border: 3px solid transparent;
}
/* ===== 最前面に固定（祭壇より上） ===== */
.boss-talk{
  z-index: 20000 !important;
}
.boss-overlay{
  z-index: 20001 !important;
}

